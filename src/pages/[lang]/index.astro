---
import {
  defaultLang,
  languages,
  useTranslations,
} from "../../assets/i18n/utils";
import PortfolioContent from "../../components/PortfolioContent.astro";
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";

export async function getStaticPaths() {
  return Object.keys(languages)
    .filter((lang) => lang !== defaultLang)
    .map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const currentLang = lang as "es" | "de";
const translate = useTranslations(currentLang);
---

<Layout currentLang={currentLang} translate={translate}>
  <PortfolioContent translate={translate} />
</Layout>
