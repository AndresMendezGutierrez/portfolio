---
const { class: className } = Astro.props;
---

<button class={`${className} theme-toggle-btn hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors`}>
  <svg class="w-9.5 h-9.5 sm:w-8 sm:h-8 md:w-9 md:h-9 hidden dark:block">
    <use href="/src/assets/icons/icons-sprite.svg#sun-icon"></use>
  </svg>
  <svg class="w-9.5 h-9.5 sm:w-8 sm:h-8 md:w-9 md:h-9 block dark:hidden">
    <use href="/src/assets/icons/icons-sprite.svg#moon-icon"></use>
  </svg>
</button>

<script>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  const buttons = document.querySelectorAll(".theme-toggle-btn");

  buttons.forEach((btn) => {
    btn.addEventListener("click", handleToggleClick);
  });
</script>
